<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="http://code.jquery.com/jquery-3.1.1.js"></script>

	<style>
		body{height: 3300px;}
		.indicator{position: fixed; right: 10px; top: 10px;}
		div {
			background-size: 100%;
			height: 200px;
			position: fixed;
			width: 314px;
		}

		div p {
			color: #fff;
			margin: 0;
			padding: 8px;
		}

		#area1 {
			background: url(./img/bg-parallaxsample01.jpg) no-repeat;
			left: 30px;
			transform: scale(0.5, 0.5);
		}
		#area2 {
			background: url(./img/bg-parallaxsample02.jpg) no-repeat;
			top: 200px;
			right: 0;
		}
		#area3 {
			background: url(./img/bg-parallaxsample03.jpg) no-repeat;
			top: 520px;
			right: 60px;
			transform: scale(2, 2);
		}
		#area4 {
			background: url(./img/bg-parallaxsample04.jpg) no-repeat;
			height: 300px;
			top: 400px;
			width: 528px;
			opacity: 0;

		}
	</style>
</head>

<body>
	<h1>스크롤과 자유변형</h1>
	<p class="indicator">스크롤위치:<span id="sValue">0</span></p>
	<div id="area1">
		<p>Area 1</p>
	</div>
	<div id="area2">
		<p>Area 2</p>
	</div>
	<div id="area3">
		<p>Area 3</p>
	</div>
	<div id="area4">
		<p>Area 4</p>
	</div>
</body>
<script>
	$(function(){
		$(window).scroll(function(){
			var sct = $(this).scrollTop();
			$("#sValue").text(sct);
			var h1 = sct * 0.001 + 0.5;
			if(h1 > 0.5){
				$('#area1').css('transform', 'scale('+h1+')');
			}
			if(h1 > 1.5){
				$('#area1').css('transform', 'perspective(1000px) rotateY('+sct+'deg)');
			}
			h3 = 2 - sct * 0.0009;
			$('#area3').css('transform', 'scale('+h3+') rotateY('+sct+'deg)');

			var h4 = sct * 0.009;
			if(h4 <= 1){
				$('#area4').css('opacity', h4);
			}
		});
	});
</script>
</html>